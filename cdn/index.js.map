{"mappings":"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","sources":["src/via-tag.ts","src/bodymovin-player.ts","src/code-editor.ts","src/track-drag.ts","src/data-table.ts","src/filter-builder.ts","src/mapbox.ts","src/markdown-viewer.ts","src/side-nav.ts","src/size-break.ts","src/tab-selector.ts"],"sourcesContent":["import { elements } from 'xinjs'\n\ninterface PromiseMap {\n  [key: string]: Promise<any>\n}\n\nconst loadedScripts: PromiseMap = {}\nexport function scriptTag(\n  src: string,\n  existingSymbolName?: string\n): Promise<any> {\n  if (loadedScripts[src] === undefined) {\n    if (existingSymbolName !== undefined) {\n      // @ts-expect-error\n      const existing = globalThis[existingSymbolName]\n      loadedScripts[src] = Promise.resolve({ [existingSymbolName]: existing })\n    }\n\n    const scriptElt = elements.script({ src })\n\n    // @ts-expect-error\n    document.head.append(scriptElt)\n\n    loadedScripts[src] = new Promise((resolve) => {\n      scriptElt.onload = () => resolve(globalThis)\n    })\n  }\n\n  return loadedScripts[src]\n}\n\nconst loadedStyleSheets: PromiseMap = {}\nexport function styleSheet(href: string): Promise<void> {\n  if (loadedStyleSheets[href] === undefined) {\n    const linkElement = elements.link({\n      rel: 'stylesheet',\n      type: 'text/css',\n      href,\n    })\n\n    // @ts-expect-error\n    document.head.append(linkElement)\n\n    loadedStyleSheets[href] = new Promise((resolve) => {\n      linkElement.onload = resolve\n    })\n  }\n  return loadedStyleSheets[href]\n}\n","// https://lottiefiles.github.io/lottie-docs/advanced_interactions/\n\nimport { Component as WebComponent, elements } from 'xinjs'\nimport { scriptTag } from './via-tag'\n\ninterface LottieConfig {\n  // @ts-expect-error\n  container?: HTMLElement\n  renderer: 'svg' | 'cancas' | 'html'\n  loop: boolean\n  autoplay: boolean\n  animationData?: string\n  path?: string\n  [key: string]: any\n}\n\nclass BodymovinPlayer extends WebComponent {\n  content = null\n  src = ''\n  json = ''\n  config: LottieConfig = {\n    renderer: 'svg',\n    loop: true,\n    autoplay: true,\n  }\n\n  static bodymovinAvailable?: Promise<any>\n\n  animation: any\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      width: 400,\n      height: 400,\n      display: 'inline-block',\n    },\n  })\n\n  private _loading = false\n\n  get loading(): boolean {\n    return this._loading\n  }\n\n  constructor() {\n    super()\n    this.initAttributes('src', 'json')\n    if (BodymovinPlayer.bodymovinAvailable === undefined) {\n      BodymovinPlayer.bodymovinAvailable = scriptTag(\n        'https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js',\n        'bodymovin'\n      )\n    }\n  }\n\n  private readonly doneLoading = (): void => {\n    this._loading = false\n  }\n\n  private readonly load = ({ bodymovin }: { bodymovin: any }): void => {\n    this._loading = true\n\n    this.config.container = this.shadowRoot\n    if (this.json !== '') {\n      this.config.animationData = this.json\n      delete this.config.path\n    } else if (this.src !== '') {\n      delete this.config.animationData\n      this.config.path = this.src\n    } else {\n      console.log(\n        '%c<bodymovin-player>%c expected either %cjson%c (animation data) or %csrc% c(url) but found neither.',\n        'color: #44f; background: #fff; padding: 0 5px',\n        'color: default',\n        'color: #44f; background: #fff; padding: 0 5px',\n        'color: default',\n        'color: #44f; background: #fff; padding: 0 5px',\n        'color: default'\n      )\n    }\n\n    if (this.animation) {\n      this.animation.destroy()\n      this.shadowRoot.querySelector('svg').remove()\n    }\n    this.animation = bodymovin.loadAnimation(this.config)\n    this.animation.addEventListener('DOMLoaded', this.doneLoading)\n  }\n\n  render(): void {\n    super.render()\n\n    BodymovinPlayer.bodymovinAvailable!.then(this.load).catch(\n      (e: string): void => {\n        console.error(e)\n      }\n    )\n  }\n}\n\nexport const bodymovinPlayer = BodymovinPlayer.elementCreator({\n  tag: 'bodymovin-player',\n})\n","import { Component as WebComponent, elements, vars } from 'xinjs'\nimport { scriptTag } from './via-tag'\n\nconst ACE_BASE_URL = 'https://cdnjs.cloudflare.com/ajax/libs/ace/1.23.2/'\nconst DEFAULT_THEME = 'ace/theme/monokai'\n\nconst makeCodeEditor = async (\n  codeElement: any,\n  mode = 'html',\n  options = {},\n  theme = DEFAULT_THEME\n) => {\n  const { ace } = await scriptTag(`${ACE_BASE_URL}ace.min.js`)\n  ace.config.set('basePath', ACE_BASE_URL)\n  const editor = ace.edit(codeElement, {\n    mode: `ace/mode/${mode}`,\n    tabSize: 2,\n    useSoftTabs: true,\n    useWorker: false,\n    ...options,\n  })\n  editor.setTheme(theme)\n  return editor\n}\n\nclass CodeEditor extends WebComponent {\n  value = ''\n  mode = 'javascript'\n  disabled = false\n  role = 'code editor'\n\n  get editor(): any {\n    return this._editor\n  }\n  private _editor: any | undefined\n  private _editorPromise: Promise<any> | undefined\n  options: any = {}\n  theme = DEFAULT_THEME\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'block',\n      position: 'relative',\n    },\n  })\n\n  constructor() {\n    super()\n\n    this.initAttributes('mode', 'theme', 'disabled')\n  }\n\n  onResize() {\n    if (this.editor !== undefined) {\n      this.editor.resize(true)\n    }\n  }\n\n  updateValue = async (event: Event) => {\n    // changes to the element will be targted on the custom-element\n    // changes by the user will target the textarea created by ace editor\n    // @ts-expect-error\n    if (event.target !== this && this.editor) {\n      this.value = this.editor.getValue()\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback()\n\n    if (this.value === '') {\n      this.value = this.textContent.trim('\\n')\n    }\n\n    if (this._editorPromise === undefined) {\n      this._editorPromise = makeCodeEditor(\n        this,\n        this.mode,\n        this.options,\n        this.theme\n      )\n      this._editorPromise.then((editor) => {\n        this._editor = editor\n        editor.setValue(this.value, 1)\n      })\n    }\n\n    this.addEventListener('change', this.updateValue)\n  }\n\n  render(): void {\n    super.render()\n\n    if (this.editor !== undefined) {\n      if (this.editor.getValue() !== this.value) {\n        this.editor.setValue(this.value)\n      }\n    }\n    if (this._editorPromise !== undefined) {\n      this._editorPromise.then((editor) => editor.setReadOnly(this.disabled))\n    }\n  }\n}\n\nexport const codeEditor = CodeEditor.elementCreator({ tag: 'code-editor' })\n","import { elements } from 'xinjs'\n\ntype TrackerCallback = (dx: number, dy: number, event: any) => true | undefined\n\nexport const trackDrag = (\n  event: any,\n  callback: TrackerCallback,\n  cursor = 'default'\n): void => {\n  const isTouchEvent = event.type.startsWith('touch')\n\n  if (!isTouchEvent) {\n    const origX = event.clientX\n    const origY = event.clientY\n\n    const tracker = elements.div({\n      style: {\n        content: ' ',\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        cursor,\n      },\n    })\n\n    // @ts-expect-error\n    document.body.append(tracker)\n\n    const wrappedCallback = (event: any) => {\n      const dx = event.clientX - origX\n      const dy = event.clientY - origY\n      if (callback(dx, dy, event) === true) {\n        tracker.remove()\n      }\n    }\n\n    tracker.addEventListener('mousemove', wrappedCallback, { passive: true })\n    tracker.addEventListener('mouseup', wrappedCallback, { passive: true })\n  } else if (event.type.startsWith('touch')) {\n    const origX = event.touches[0].clientX\n    const origY = event.touches[0].clientY\n    const target: any = event.target\n\n    let dx = 0\n    let dy = 0\n    const wrappedCallback = (event: any) => {\n      if (event.touches.length > 0) {\n        dx = event.touches[0].clientX - origX\n        dy = event.touches[0].clientY - origY\n      }\n      if (callback(dx, dy, event) === true || event.touches.length === 0) {\n        target.removeEventListener('touchmove', wrappedCallback)\n        target.removeEventListener('touchend', wrappedCallback)\n        target.removeEventListener('touchcancel', wrappedCallback)\n      }\n    }\n\n    target.addEventListener('touchmove', wrappedCallback, { passive: true })\n    target.addEventListener('touchend', wrappedCallback, { passive: true })\n    target.addEventListener('touchcancel', wrappedCallback, { passive: true })\n  }\n}\n","import { Component as WebComponent, elements, xin, vars, xinValue } from 'xinjs'\nimport { trackDrag } from './track-drag'\n\nfunction defaultWidth(\n  array: any[],\n  prop: string,\n  charWidth: number\n): number | boolean {\n  const example = array.find(\n    (item) => item[prop] !== undefined && item[prop] !== null\n  )\n  if (example !== undefined) {\n    const value = example[prop]\n    switch (typeof value) {\n      case 'string':\n        if (value.match(/^\\d+(\\.\\d+)?$/)) {\n          return 6 * charWidth\n        } else if (value.includes(' ')) {\n          return 20 * charWidth\n        } else {\n          return 12 * charWidth\n        }\n      case 'number':\n        return 6 * charWidth\n      case 'boolean':\n        return 5 * charWidth\n      case 'object':\n        return false\n      default:\n        return 8 * charWidth\n    }\n  }\n  return false\n}\n\nconst { div, span, template } = elements\n\ninterface ColumnOptions {\n  name?: string\n  prop: string\n  width: number\n  visible?: boolean\n  align?: string\n  // @ts-expect-error\n  headerCell?: () => HTMLElement\n  // @ts-expect-error\n  dataCell?: () => HTMLElement\n}\n\ninterface TableData {\n  columns?: ColumnOptions[] | null\n  array: any[]\n  filter?: ArrayFilter | null\n}\n\ntype ArrayFilter = (array: any[]) => any[]\n\nconst passThru = (array: any[]) => array\n\nclass DataTable extends WebComponent {\n  get value(): TableData {\n    return {\n      array: this.array,\n      filter: this.filter,\n      columns: this.columns,\n    }\n  }\n\n  set value(data: TableData) {\n    const { array, columns, filter } = xinValue(data)\n    if (\n      this._array !== array ||\n      this._columns !== columns ||\n      this._filter !== filter\n    ) {\n      this.queueRender()\n    }\n    this._array = array || []\n    this._columns = columns || null\n    this._filter = filter || passThru\n  }\n\n  private _array: any[] = []\n  private _columns: ColumnOptions[] | null = null\n  private _filter: ArrayFilter = passThru\n  charWidth = 15\n  rowHeight = 30\n  minColumnWidth = 30\n\n  get virtual(): { height: number } | undefined {\n    return this.rowHeight > 0 ? { height: this.rowHeight } : undefined\n  }\n\n  constructor() {\n    super()\n\n    this.initAttributes('rowHeight', 'charWidth', 'minColumnWidth')\n  }\n\n  get array(): any[] {\n    return this._array\n  }\n\n  set array(newArray: any[]) {\n    this._array = xinValue(newArray)\n    this.queueRender()\n  }\n\n  get filter(): ArrayFilter {\n    return this._filter\n  }\n\n  set filter(filterFunc: ArrayFilter) {\n    if (this._filter !== filterFunc) {\n      this._filter = filterFunc\n      this.queueRender()\n    }\n  }\n\n  get columns(): ColumnOptions[] {\n    if (!Array.isArray(this._columns)) {\n      const { _array } = this\n      this._columns = Object.keys(_array[0] || {}).map((prop: string) => {\n        const width = defaultWidth(_array, prop, this.charWidth)\n        return {\n          name: prop.replace(/([a-z])([A-Z])/g, '$1 $2').toLocaleLowerCase(),\n          prop,\n          align:\n            typeof _array[0][prop] === 'number' ||\n            (_array[0][prop] !== '' && !isNaN(_array[0][prop]))\n              ? 'right'\n              : 'left',\n          visible: width !== false,\n          width: width ? width : 0,\n        } as ColumnOptions\n      })\n    }\n    return this._columns\n  }\n\n  set columns(newColumns: ColumnOptions[]) {\n    this._columns = newColumns\n    this.queueRender()\n  }\n\n  get visibleColumns(): ColumnOptions[] {\n    return this.columns.filter((c) => c.visible !== false)\n  }\n\n  get visibleRecords(): any[] {\n    return xin[this.instanceId] as any[]\n  }\n\n  content = null\n\n  getColumn(event: any): ColumnOptions | undefined {\n    const x =\n      (event.touches !== undefined ? event.touches[0].clientX : event.clientX) -\n      this.getBoundingClientRect().x\n    const epsilon = event.touches !== undefined ? 20 : 5\n    let boundaryX = 0\n    const log: any[] = []\n    const column = this.visibleColumns.find((options: ColumnOptions) => {\n      if (options.visible !== false) {\n        boundaryX += options.width\n        log.push(boundaryX)\n        return Math.abs(x - boundaryX) < epsilon\n      }\n    })\n    return column\n  }\n\n  setCursor = (event: Event) => {\n    const column = this.getColumn(event)\n    if (column !== undefined) {\n      this.style.cursor = 'col-resize'\n    } else {\n      this.style.cursor = ''\n    }\n  }\n\n  resizeColumn = (event: any) => {\n    const column = this.getColumn(event)\n    if (column !== undefined) {\n      const origWidth = column.width\n      const isTouchEvent = event.touches !== undefined\n      const touchIdentifier = isTouchEvent\n        ? event.touches[0].identifier\n        : undefined\n      trackDrag(\n        event,\n        (dx, dy, event: any) => {\n          const touch = isTouchEvent\n            ? [...event.touches].find(\n                (touch: any) => touch.identifier === touchIdentifier\n              )\n            : true\n          if (touch === undefined) {\n            return true\n          }\n          const width = origWidth + dx\n          column.width =\n            width > this.minColumnWidth ? width : this.minColumnWidth\n          this.setColumnWidths()\n          if (event.type === 'mouseup') {\n            return true\n          }\n        },\n        'col-resize'\n      )\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n\n    this.addEventListener('mousemove', this.setCursor)\n    this.addEventListener('mousedown', this.resizeColumn)\n    this.addEventListener('touchstart', this.resizeColumn, { passive: true })\n  }\n\n  setColumnWidths() {\n    this.style.setProperty(\n      '--grid-columns',\n      this.visibleColumns.map((c) => c.width + 'px').join(' ')\n    )\n  }\n\n  get rowStyle() {\n    return {\n      display: 'grid',\n      gridTemplateColumns: vars.gridColumns,\n      height: this.rowHeight + 'px',\n      lineHeight: this.rowHeight + 'px',\n    }\n  }\n\n  get cellStyle() {\n    return {\n      overflow: 'hidden',\n      whiteSpace: 'nowrap',\n      textOverflow: 'ellipsis',\n    }\n  }\n\n  headerCell = (options: ColumnOptions) =>\n    options.headerCell !== undefined\n      ? options.headerCell()\n      : span(\n          {\n            class: 'th',\n            role: 'columnheader',\n            ariaSort: 'none',\n            style: {\n              ...this.cellStyle,\n              textAlign: options.align || 'left',\n            },\n          },\n          typeof options.name === 'string' ? options.name : options.prop\n        )\n\n  dataCell = (options: ColumnOptions) => {\n    if (options.dataCell !== undefined) {\n      return options.dataCell()\n    }\n    return span({\n      class: 'td',\n      role: 'cell',\n      style: {\n        ...this.cellStyle,\n        textAlign: options.align || 'left',\n      },\n      bindText: `^.${options.prop}`,\n    })\n  }\n\n  get visibleRows(): any[] {\n    return xinValue(xin[this.instanceId]) as any[]\n  }\n\n  render() {\n    super.render()\n\n    xin[this.instanceId] = this.filter(this._array)\n\n    this.textContent = ''\n\n    this.style.display = 'flex'\n    this.style.flexDirection = 'column'\n    const { visibleColumns } = this\n    this.setColumnWidths()\n    this.append(\n      div(\n        { class: 'thead', role: 'rowgroup' },\n        div(\n          {\n            class: 'tr',\n            role: 'row',\n            style: this.rowStyle,\n          },\n          ...visibleColumns.map(this.headerCell)\n        )\n      ),\n      div(\n        {\n          class: 'tbody',\n          role: 'rowgroup',\n          style: {\n            content: ' ',\n            minHeight: '200px',\n            flex: '1 1 100px',\n            overflow: 'hidden',\n            overflowY: 'scroll',\n          },\n          bindList: {\n            value: this.instanceId,\n            virtual: this.virtual,\n          },\n        },\n        template(\n          div(\n            {\n              class: 'tr',\n              role: 'row',\n              style: this.rowStyle,\n            },\n            ...visibleColumns.map(this.dataCell)\n          )\n        )\n      )\n    )\n  }\n}\n\nexport const dataTable = DataTable.elementCreator({ tag: 'data-table' })\n","import { Component as WebComponent, elements, debounce } from 'xinjs'\n\nconst { input } = elements\n\ntype ArrayFilter = (array: any[]) => any[]\n\nconst passThru = (array: any[]) => array\nconst NULL_FILTER_DESCRIPTION = 'null filter, everything matches'\n\ntype ObjectTest = (obj: any) => boolean\n\ninterface FilterMaker {\n  hint: string\n  explanation?: string\n  description: (...matches: string[]) => string\n  token: RegExp\n  makeFilter: (...matches: string[]) => ObjectTest\n}\n\nexport const availableFilters: FilterMaker[] = [\n  {\n    hint: 'field=value',\n    explanation: 'field is value, ignoring case',\n    description: (field: string, value: string) =>\n      isNaN(Number(value))\n        ? field !== ''\n          ? `${field} is \"${value}\"`\n          : `any field is \"${value}\"`\n        : field !== ''\n        ? `${field} == ${value}`\n        : `any field == ${value}`,\n    token: /^([\\w-_]*)=(.+)$/,\n    makeFilter: (field: string, value: string) => {\n      if (isNaN(Number(value))) {\n        value = String(value).toLocaleLowerCase()\n        if (field !== '') {\n          return (obj: any) => String(obj[field]).toLocaleLowerCase() == value\n        }\n        return (obj: any) =>\n          Object.values(obj).find(\n            (val) => String(val).toLocaleLowerCase() == value\n          ) !== undefined\n      }\n      const num = Number(value)\n      if (field !== '') {\n        return (obj: any) => Number(obj[field]) == num\n      }\n      return (obj: any) =>\n        Object.values(obj).find((val) => Number(val) == num) !== undefined\n    },\n  },\n  {\n    hint: 'field!=value',\n    explanation: 'field is not value, ignoring case',\n    description: (field: string, value: string) => `${field} â‰  ${value}`,\n    token: /^([\\w-_]+)!=(.+)$/,\n    makeFilter: (field: string, value: string) => {\n      value = value.toLocaleLowerCase()\n      return (obj: any) => String(obj[field]).toLocaleLowerCase() != value\n    },\n  },\n  {\n    hint: 'field>value',\n    explanation: 'field > value (numeric / A-Z)',\n    description: (field: string, value: string) =>\n      isNaN(Number(value))\n        ? `${field} > ${value} (A-Z)`\n        : `${field} > ${value}`,\n    token: /^([\\w-_]+)>(.+)$/,\n    makeFilter: (field: string, value: string) => {\n      if (!isNaN(Number(value))) {\n        const num = Number(value)\n        return (obj: any) => Number(obj[field]) > num\n      }\n      value = value.toLocaleLowerCase()\n      return (obj: any) => String(obj[field]).toLocaleLowerCase() > value\n    },\n  },\n  {\n    hint: 'field<value',\n    explanation: 'field < value (numeric / A-Z)',\n    description: (field: string, value: string) =>\n      isNaN(Number(value))\n        ? `${field} < ${value} (A-Z)`\n        : `${field} < ${value}`,\n    token: /^([\\w-_]+)<(.+)$/,\n    makeFilter: (field: string, value: string) => {\n      if (!isNaN(Number(value))) {\n        const num = Number(value)\n        return (obj: any) => Number(obj[field]) < num\n      }\n      value = value.toLocaleLowerCase()\n      return (obj: any) => String(obj[field]).toLocaleLowerCase() < value\n    },\n  },\n  {\n    hint: 'field:value',\n    explanation: 'field contains value, ignoring case',\n    description: (field: string, value: string) =>\n      `${field} contains \"${value}\"`,\n    token: /^([\\w-_]+):(.+)$/,\n    makeFilter: (field: string, value: string) => {\n      value = value.toLocaleLowerCase()\n      return (obj: any) =>\n        String(obj[field]).toLocaleLowerCase().includes(value)\n    },\n  },\n  {\n    hint: '!!field',\n    explanation: 'field is true, non-empty, non-zero',\n    description: (match: string) => `${match} is truthy`,\n    token: /^!!([\\w-_]+)$/,\n    makeFilter: (match: string) => (obj: any) => !!obj[match],\n  },\n  {\n    hint: '!field',\n    explanation: 'field is false, empty, zero',\n    description: (match: string) => `${match} is falsy`,\n    token: /^!([\\w-_]+)$/,\n    makeFilter: (match: string) => (obj: any) => !obj[match],\n  },\n  {\n    hint: 'value',\n    explanation: 'any field contains value',\n    description: (match: string) => `\"${match}\" in any property`,\n    token: /^(.+)$/,\n    makeFilter: (match: string) => {\n      match = match.toLocaleLowerCase()\n      return (obj: any) =>\n        Object.values(obj).find((value) =>\n          String(value).toLocaleLowerCase().includes(match)\n        ) !== undefined\n    },\n  },\n]\n\ninterface Filter {\n  description: string\n  test: ObjectTest\n}\n\nexport function getFilter(\n  term: string,\n  filters = availableFilters\n): Filter | undefined {\n  const maker = filters.find((filter: FilterMaker) => filter.token.test(term))\n  if (maker !== undefined) {\n    // we know it will match\n    const [, ...terms] = term.match(maker.token)!\n    return {\n      description: maker.description(...terms),\n      test: maker.makeFilter(...terms),\n    }\n  }\n}\n\nclass FilterBuilder extends WebComponent {\n  value = ''\n  filter: ArrayFilter = passThru\n  title = NULL_FILTER_DESCRIPTION\n  content = input({\n    type: 'search',\n    part: 'input',\n    style: {\n      width: '100%',\n      height: 'auto',\n    },\n  })\n  placeholder = ''\n  help = ''\n\n  filters = availableFilters\n\n  constructor() {\n    super()\n    this.initAttributes('title', 'placeholder', 'help')\n  }\n\n  buildFilter = debounce((query: string): void => {\n    // @ts-expect-error\n    const filters: Filter[] = query\n      .split(/\\s+/)\n      .filter((part) => part !== '')\n      .map((part) => getFilter(part, this.filters))\n      .filter((part) => part !== undefined) // because we remove undefined\n\n    if (filters.length === 0) {\n      this.title = NULL_FILTER_DESCRIPTION\n      if (this.filter !== passThru) {\n        this.filter = passThru\n        this.dispatchEvent(new Event('change'))\n      }\n    } else {\n      this.filter = filters.reduce(\n        (f: false | ArrayFilter, filter: Filter): ArrayFilter => {\n          let g: ArrayFilter\n          if (f === false) {\n            g = (array: any[]) => array.filter(filter.test)\n          } else {\n            g = (array: any[]) => f(array.filter(filter.test))\n          }\n          return g\n        },\n        false\n      ) as ArrayFilter // because this array is not empty\n\n      this.title = filters.map((f) => f.description).join(', and ')\n      this.dispatchEvent(new Event('change'))\n    }\n  }, 500)\n\n  reset() {\n    if (this.filter !== passThru) {\n      this.title = NULL_FILTER_DESCRIPTION\n      this.filter = passThru\n      this.dispatchEvent(new Event('change'))\n    }\n  }\n\n  handleInput = (event: Event) => {\n    const { input } = this.parts\n    this.buildFilter(input.value)\n    this.value = input.value\n    event.stopPropagation()\n    event.preventDefault()\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    this.setAttribute('title', this.title)\n\n    this.help = this.filters\n      .map((f) =>\n        f.explanation !== undefined ? `${f.hint}: ${f.explanation}` : f.hint\n      )\n      .join('\\n')\n\n    const { input } = this.parts\n    input.value = this.value\n    input.addEventListener('input', this.handleInput)\n    input.addEventListener('change', this.handleInput)\n    this.style.position = 'relative'\n  }\n\n  render() {\n    super.render()\n    const { input } = this.parts\n    input.placeholder =\n      this.placeholder !== ''\n        ? this.placeholder\n        : this.filters.map((filter) => filter.hint).join(' ')\n    input.value = this.value\n  }\n}\n\nexport const filterBuilder = FilterBuilder.elementCreator({\n  tag: 'filter-builder',\n})\n","import { Component as WebComponent, elements } from 'xinjs'\nimport { styleSheet, scriptTag } from './via-tag'\n\nexport const MAPSTYLES = [\n  {\n    name: 'streets',\n    url: 'mapbox://styles/mapbox/streets-v10',\n  },\n  {\n    name: 'outdoors',\n    url: 'mapbox://styles/mapbox/outdoors-v10',\n  },\n  {\n    name: 'light',\n    url: 'mapbox://styles/mapbox/light-v9',\n  },\n  {\n    name: 'dark',\n    url: 'mapbox://styles/mapbox/dark-v9',\n  },\n  {\n    name: 'satellite',\n    url: 'mapbox://styles/mapbox/satellite-v9',\n  },\n  {\n    name: 'sateliite + streets',\n    url: 'mapbox://styles/mapbox/satellite-streets-v10',\n  },\n  {\n    name: 'preview day',\n    url: 'mapbox://styles/mapbox/navigation-preview-day-v2',\n  },\n  {\n    name: 'preview night',\n    url: 'mapbox://styles/mapbox/navigation-preview-night-v2',\n  },\n  {\n    name: 'guidance day',\n    url: 'mapbox://styles/mapbox/navigation-guidance-day-v2',\n  },\n  {\n    name: 'guidance night',\n    url: 'mapbox://styles/mapbox/navigation-guidance-night-v2',\n  },\n]\n\nconst { div } = elements\n\nclass MapBox extends WebComponent {\n  coords = '65.01715565258993,25.48081004203459,12'\n  content = div({ style: { width: '100%', height: '100%' } })\n  get map(): any {\n    return this._map\n  }\n  mapStyle = MAPSTYLES[0]\n  token = ''\n\n  static mapboxCSSAvailable: Promise<void>\n  static mapboxAvailable?: Promise<any>\n\n  private _map: any\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'inline-block',\n      position: 'relative',\n      width: '400px',\n      height: '400px',\n      textAlign: 'left',\n    },\n  })\n\n  constructor() {\n    super()\n    this.initAttributes('coords', 'token', 'mapStyle')\n\n    if (MapBox.mapboxCSSAvailable === undefined) {\n      MapBox.mapboxCSSAvailable = styleSheet(\n        'https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css'\n      ).catch((e) => {\n        console.error('failed to load mapbox-gl.css', e)\n      })\n      MapBox.mapboxAvailable = scriptTag(\n        'https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js'\n      ).catch((e) => {\n        console.error('failed to load mapbox-gl.js', e)\n      })\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    if (!this.token) {\n      console.error(\n        'mapbox requires an access token which you can provide via the token attribute'\n      )\n    }\n  }\n\n  render(): void {\n    super.render()\n\n    if (!this.token) {\n      return\n    }\n\n    const { div } = this.parts\n\n    const [long, lat, zoom] = this.coords.split(',').map((x) => Number(x))\n\n    if (this.map) {\n      this.map.remove()\n    }\n\n    MapBox.mapboxAvailable!.then(({ mapboxgl }: { mapboxgl: any }) => {\n      console.log(\n        '%cmapbox may complain about missing css because it is loaded async on demand',\n        'background: orange; color: black; padding: 0 5px;'\n      )\n      mapboxgl.accessToken = this.token\n      this._map = new mapboxgl.Map({\n        container: div,\n        style: this.mapStyle.url,\n        zoom,\n        center: [lat, long],\n      })\n\n      this._map.on('render', () => this._map.resize())\n    })\n  }\n}\n\nexport const mapBox = MapBox.elementCreator({ tag: 'map-box' })\n","import { Component } from 'xinjs'\nimport { marked } from 'marked'\nclass MarkdownViewer extends Component {\n  src = ''\n  value = ''\n  content = null\n  constructor() {\n    super()\n    this.initAttributes('src')\n  }\n  connectedCallback(): void {\n    super.connectedCallback()\n    if (this.src !== '') {\n      ;(async () => {\n        const request = await fetch(this.src)\n        this.value = await request.text()\n      })()\n    } else if (this.value === '') {\n      this.value = this.textContent != null ? this.textContent : ''\n    }\n  }\n  render() {\n    super.render()\n    this.innerHTML = marked(this.value, { mangle: false, headerIds: false })\n  }\n}\n\nexport const markdownViewer = MarkdownViewer.elementCreator({\n  tag: 'markdown-viewer',\n})\n","import { Component as WebComponent, elements, vars, varDefault } from 'xinjs'\n\nconst { slot } = elements\n\nconst flexDirections = {\n  left: 'row',\n  right: 'row-reverse',\n  top: 'column',\n  bottom: 'column-reverse',\n}\n\nconst outsetMargins = {\n  left: ['marginLeft', 'marginRight'],\n  right: ['marginRight', 'marginLeft'],\n  top: ['marginTop', 'marginBottom'],\n  bottom: ['marginBottom', 'marginTop'],\n}\n\nclass SideNav extends WebComponent {\n  panelPosition: 'left' | 'right' | 'top' | 'bottom' = 'left'\n  minSize = 600\n  navSize = 200\n  compact = false\n\n  content = [slot({ name: 'nav' }), slot({ part: 'content' })]\n\n  private _contentVisible = false\n  get contentVisible(): boolean {\n    return this._contentVisible\n  }\n\n  set contentVisible(visible: boolean) {\n    this._contentVisible = visible\n    this.queueRender()\n  }\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'flex',\n      flexDirection: vars.flexDirection,\n      transition: varDefault.sideNavTransition('0.25s ease-out'),\n    },\n    ':host slot': {\n      position: 'relative',\n    },\n    ':host slot:not([name])': {\n      display: 'block',\n      flex: `0 0 ${vars.contentWidth}`,\n      width: vars.contentWidth,\n    },\n    ':host slot[name=\"nav\"]': {\n      display: 'block',\n      flex: `0 0 ${vars.navWidth}`,\n      width: vars.navWidth,\n    },\n  })\n\n  onResize = () => {\n    const { content } = this.parts\n    if (this.offsetParent === null) {\n      return\n    }\n\n    this.style.marginLeft = 0\n    this.style.marginRight = 0\n    this.style.marginTop = 0\n    this.style.marginBottom = 0\n\n    const empty =\n      [...this.childNodes].find((node) =>\n        // @ts-expect-error\n        node instanceof Element ? node.getAttribute('slot') !== 'nav' : true\n      ) === undefined\n    if (empty) {\n      this.style.setProperty('--nav-width', '100%')\n      this.style.setProperty('--content-width', '0%')\n      return\n    }\n\n    const parent = this.offsetParent\n    const size = this.panelPosition.match(/left|right/)\n      ? parent.offsetWidth\n      : parent.offsetWidth\n\n    this.compact = size < this.minSize\n    if (!this.compact) {\n      content.classList.add('-side-nav-visible')\n      this.style.setProperty('--nav-width', `${this.navSize}px`)\n      this.style.setProperty(\n        '--content-width',\n        `calc(100% - ${this.navSize}px)`\n      )\n    } else {\n      content.classList.remove('-side-nav-visible')\n      this.style.setProperty('--nav-width', '50%')\n      this.style.setProperty('--content-width', '50%')\n\n      const margins = outsetMargins[this.panelPosition]\n      if (this.contentVisible) {\n        this.style[margins[0]] = '-100%'\n      } else {\n        this.style[margins[1]] = '-100%'\n      }\n    }\n  }\n\n  private observer: any\n  connectedCallback(): void {\n    super.connectedCallback()\n    this.contentVisible = this.parts.content.childNodes.length === 0\n    globalThis.addEventListener('resize', this.onResize)\n\n    // @ts-expect-error\n    this.observer = new MutationObserver(this.onResize)\n    this.observer.observe(this, { childList: true })\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback()\n    this.observer.disconnect()\n  }\n\n  constructor() {\n    super()\n    this.initAttributes('panelPosition', 'minSize', 'navSize', 'compact')\n  }\n\n  render(): void {\n    super.render()\n    this.style.setProperty(\n      '--flex-direction',\n      flexDirections[this.panelPosition]\n    )\n    this.onResize()\n  }\n}\n\nexport const sideNav = SideNav.elementCreator({ tag: 'side-nav' })\n","import { Component as WebComponent, elements, vars } from 'xinjs'\n\nconst { slot } = elements\n\nclass SizeBreak extends WebComponent {\n  minWidth = 0\n  minHeight = 0\n  value: 'normal' | 'small' = 'normal'\n\n  content = [slot({ part: 'normal' }), slot({ part: 'small', name: 'small' })]\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      position: 'relative',\n    },\n  })\n\n  constructor() {\n    super()\n    this.initAttributes('minWidth', 'minHeight')\n  }\n\n  onResize = () => {\n    const { normal, small } = this.parts\n    if (this.offsetParent === null) {\n      return\n    } else if (\n      this.offsetParent.offsetWidth < this.minWidth ||\n      this.offsetParent.offsetHeight < this.minHeight\n    ) {\n      normal.hidden = true\n      small.hidden = false\n      this.value = 'small'\n    } else {\n      normal.hidden = false\n      small.hidden = true\n      this.value = 'normal'\n    }\n  }\n\n  // TODO trigger a resize event when an ancestor element\n  // is inerted or moved into the DOM.\n  connectedCallback(): void {\n    super.connectedCallback()\n    globalThis.addEventListener('resize', this.onResize)\n  }\n\n  disconnectedCallback(): void {\n    super.disconnectedCallback()\n    globalThis.removeEventListener('resize', this.onResize)\n  }\n}\n\nexport const sizeBreak = SizeBreak.elementCreator({ tag: 'size-break' })\n","import { Component as WebComponent, elements, vars } from 'xinjs'\n\nconst { div, slot } = elements\n\nclass TabSelector extends WebComponent {\n  value = 0\n\n  role = 'tabpanel'\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'flex',\n      flexDirection: 'column',\n      position: 'relative',\n      overflow: 'hidden',\n    },\n    slot: {\n      position: 'relative',\n      display: 'block',\n      flex: '1 1 auto',\n      overflow: 'hidden',\n      overflowY: 'auto',\n    },\n    '::slotted([hidden])': {\n      display: 'none !important',\n    },\n    ':host .tab-holder': {\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    ':host .tabs': {\n      display: 'flex',\n      userSelect: 'none',\n      whiteSpace: 'nowrap',\n    },\n    ':host .tabs > div': {\n      padding: `${vars.spacing50} ${vars.spacing}`,\n      cursor: 'default',\n    },\n    ':host .tabs > [aria-selected=\"true\"]': {\n      color: vars.tabSelectorSelectedColor,\n    },\n    ':host .border': {\n      background: 'var(--tab-selector-bar-color, #ccc)',\n    },\n    ':host .border > .selected': {\n      content: ' ',\n      width: 0,\n      height: 'var(--tab-selector-bar-height, 2px)',\n      background: vars.tabSelectorSelectedColor,\n      transition: 'ease-out 0.2s',\n    },\n  })\n\n  content = [\n    div(\n      { class: 'tab-holder' },\n      div({ class: 'tabs', part: 'tabs' }),\n      div({ class: 'border' }, div({ class: 'selected', part: 'selected' }))\n    ),\n    slot(),\n  ]\n\n  constructor() {\n    super()\n    this.initAttributes('anne', 'example')\n  }\n\n  // @ts-expect-error\n  addTabBody(body: HTMLElement, selectTab = false): void {\n    if (!body.hasAttribute('name')) {\n      throw new Error('element has no name attribute', body)\n    }\n    this.shadowRoot.append(body)\n    this.setupTabs()\n    if (selectTab) {\n      this.value = this.bodies.length - 1\n    }\n    this.queueRender()\n  }\n\n  // @ts-expect-error\n  keyTab = (event: KeyboardEvent): void => {\n    const { tabs } = this.parts\n    // @ts-expect-error\n    const tabIndex = [...tabs.children].indexOf(event.target as HTMLElement)\n    switch (event.key) {\n      case 'ArrowLeft':\n        this.value =\n          (tabIndex + Number(tabs.children.length) - 1) % tabs.children.length\n        // @ts-expect-error\n        ;(tabs.children[this.value] as HTMLElement).focus()\n        event.preventDefault()\n        break\n      case 'ArrowRight':\n        this.value = (tabIndex + 1) % tabs.children.length\n        // @ts-expect-error\n        ;(tabs.children[this.value] as HTMLElement).focus()\n        event.preventDefault()\n        break\n      case ' ':\n        this.pickTab(event)\n        event.preventDefault()\n        break\n      default:\n      // console.log(event.key)\n    }\n  }\n\n  // @ts-expect-error\n  get bodies(): HTMLElement[] {\n    return [...this.children].filter((elt) => elt.hasAttribute('name'))\n  }\n\n  pickTab = (event: Event): void => {\n    const { tabs } = this.parts\n    // @ts-expect-error\n    const target = event.target as HTMLElement\n    const tabIndex = [...tabs.children].indexOf(target)\n    if (tabIndex > -1) {\n      this.value = tabIndex\n    }\n  }\n\n  setupTabs = (): void => {\n    const { tabs } = this.parts\n    const tabBodies = [...this.childNodes].filter((child) =>\n      child.hasAttribute('name')\n    )\n    tabs.textContent = ''\n    for (const index in tabBodies) {\n      const tabBody = tabBodies[index]\n      const name = tabBody.getAttribute('name') as string\n      const bodyId = `${this.instanceId}-${index}`\n      tabBody.id = bodyId\n      tabs.append(div(name, { tabindex: 0, role: 'tab', ariaControls: bodyId }))\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    const { tabs } = this.parts\n    tabs.addEventListener('click', this.pickTab)\n    tabs.addEventListener('keydown', this.keyTab)\n    this.setupTabs()\n  }\n\n  render(): void {\n    const { tabs, selected } = this.parts\n    const tabBodies = this.bodies\n    for (let i = 0; i < tabBodies.length; i++) {\n      const tabBody = tabBodies[i]\n      // @ts-expect-error\n      const tab = tabs.children[i] as HTMLElement\n      if (this.value === Number(i)) {\n        tab.setAttribute('aria-selected', true)\n        selected.style.marginLeft = `${tab.offsetLeft - tabs.offsetLeft}px`\n        selected.style.width = `${tab.offsetWidth}px`\n        tabBody.removeAttribute('hidden')\n      } else {\n        tab.removeAttribute('aria-selected')\n        tabBody.setAttribute('hidden', '')\n      }\n    }\n  }\n}\n\nexport const tabSelector = TabSelector.elementCreator({ tag: 'tab-selector' })\n"],"names":["$a21410dd3e3ea5de$var$loadedScripts","$a21410dd3e3ea5de$export$c6e082819e9a0330","src","existingSymbolName","undefined","existing","globalThis","Promise","resolve","scriptElt","$6r5wQ$elements","script","document","head","append","onload","$a21410dd3e3ea5de$var$loadedStyleSheets","$a21410dd3e3ea5de$export$63257fda812a683f","href","linkElement","link","rel","type","$ad2f04eb8f8d2ce5$var$BodymovinPlayer","$6r5wQ$Component","content","json","config","renderer","loop","autoplay","styleNode","StyleNode","width","height","display","_loading","loading","this","constructor","super","initAttributes","bodymovinAvailable","doneLoading","load","bodymovin","container","shadowRoot","animationData","path","console","log","animation","destroy","querySelector","remove","loadAnimation","addEventListener","render","then","catch","e","error","$ad2f04eb8f8d2ce5$export$d75ad8f79fe096cb","elementCreator","tag","$014f746298bb227d$var$ACE_BASE_URL","$014f746298bb227d$var$DEFAULT_THEME","$014f746298bb227d$export$d89b6f4d34274146","value","mode","disabled","role","editor","_editor","options","theme","position","onResize","resize","updateValue","async","event","target","getValue","connectedCallback","textContent","trim","_editorPromise","codeElement","ace","set","edit","tabSize","useSoftTabs","useWorker","setTheme","$014f746298bb227d$var$makeCodeEditor","setValue","setReadOnly","$70634d119c384b09$export$c947e3cd16175f27","callback","cursor","startsWith","origX","touches","clientX","origY","clientY","dx","dy","wrappedCallback","length","removeEventListener","passive","tracker","div","style","top","left","right","bottom","body","$5630874f06ee5d19$var$div","span","$5630874f06ee5d19$var$span","template","$5630874f06ee5d19$var$template","$5630874f06ee5d19$var$passThru","array","$5630874f06ee5d19$export$f71ce0a5ddbe8fa0","filter","columns","data","$6r5wQ$xinValue","_array","_columns","_filter","queueRender","charWidth","rowHeight","minColumnWidth","virtual","newArray","filterFunc","Array","isArray","Object","keys","map","prop","example","find","item","match","includes","$5630874f06ee5d19$var$defaultWidth","name","replace","toLocaleLowerCase","align","isNaN","visible","newColumns","visibleColumns","c","visibleRecords","$6r5wQ$xin","instanceId","getColumn","x","getBoundingClientRect","epsilon","boundaryX","push","Math","abs","setCursor","column","resizeColumn","origWidth","isTouchEvent","touchIdentifier","identifier","touch","setColumnWidths","setProperty","join","rowStyle","gridTemplateColumns","$6r5wQ$vars","gridColumns","lineHeight","cellStyle","overflow","whiteSpace","textOverflow","headerCell","class","ariaSort","textAlign","dataCell","bindText","visibleRows","flexDirection","minHeight","flex","overflowY","bindList","input","$20aced422804d7a6$var$input","$20aced422804d7a6$var$passThru","$20aced422804d7a6$var$NULL_FILTER_DESCRIPTION","$20aced422804d7a6$export$16a138bde9d9de87","hint","explanation","description","field","Number","token","makeFilter","String","obj","values","val","num","$20aced422804d7a6$export$8ca73b4108207c1f","title","part","placeholder","help","filters","buildFilter","$6r5wQ$debounce","query","split","term","maker","test","terms","$20aced422804d7a6$export$61ec8404f465cd36","dispatchEvent","Event","reduce","f","g","reset","handleInput","parts","stopPropagation","preventDefault","setAttribute","$2749a1f1875d9178$export$7d6f3ccbb0a81c30","url","$2749a1f1875d9178$var$div","$2749a1f1875d9178$var$MapBox","coords","_map","mapStyle","mapboxCSSAvailable","mapboxAvailable","long","lat","zoom","mapboxgl","accessToken","Map","center","on","$2749a1f1875d9178$export$ca243e53be209efb","$893de9fc196de001$export$305b975a891d0dfa","request","fetch","text","innerHTML","$6r5wQ$marked","mangle","headerIds","slot","$90cb7fc2d2cece82$var$slot","$90cb7fc2d2cece82$var$flexDirections","$90cb7fc2d2cece82$var$outsetMargins","$90cb7fc2d2cece82$export$938418df2b06cb50","panelPosition","minSize","navSize","compact","_contentVisible","contentVisible","transition","$6r5wQ$varDefault","sideNavTransition","contentWidth","navWidth","offsetParent","marginLeft","marginRight","marginTop","marginBottom","childNodes","node","Element","getAttribute","parent","size","offsetWidth","classList","margins","add","observer","MutationObserver","observe","childList","disconnectedCallback","disconnect","$f318c6f5a5d94617$var$slot","$f318c6f5a5d94617$export$96370210d2ca0fff","minWidth","normal","small","offsetHeight","hidden","$b1508a5fc4357c8a$var$div","$b1508a5fc4357c8a$var$slot","$b1508a5fc4357c8a$export$a932f737dcd864a2","userSelect","padding","spacing50","spacing","color","tabSelectorSelectedColor","background","addTabBody","selectTab","hasAttribute","Error","setupTabs","bodies","keyTab","tabs","tabIndex","children","indexOf","key","focus","pickTab","elt","tabBodies","child","index","tabBody","bodyId","id","tabindex","ariaControls","selected","i","tab","offsetLeft","removeAttribute"],"version":3,"file":"index.js.map"}