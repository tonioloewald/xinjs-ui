{"mappings":"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","sources":["src/index.ts","src/bodymovin-player.ts","src/via-tag.ts","src/code-editor.ts","src/data-table.ts","src/track-drag.ts","src/filter-builder.ts","src/mapbox.ts","src/markdown-viewer.ts","src/side-nav.ts","src/size-break.ts","src/tab-selector.ts"],"sourcesContent":["export { bodymovinPlayer } from './bodymovin-player'\nexport { codeEditor } from './code-editor'\nexport { dataTable } from './data-table'\nexport { filterBuilder } from './filter-builder'\nexport { mapBox } from './mapbox'\nexport { markdownViewer } from './markdown-viewer'\nexport { sideNav } from './side-nav'\nexport { sizeBreak } from './size-break'\nexport { tabSelector } from './tab-selector'\nexport { trackDrag } from './track-drag'\nexport { scriptTag, styleSheet } from './via-tag'\n","// https://lottiefiles.github.io/lottie-docs/advanced_interactions/\n\nimport { Component as WebComponent, elements } from 'xinjs'\nimport { scriptTag } from './via-tag'\n\ninterface LottieConfig {\n  // @ts-expect-error\n  container?: HTMLElement\n  renderer: 'svg' | 'cancas' | 'html'\n  loop: boolean\n  autoplay: boolean\n  animationData?: string\n  path?: string\n  [key: string]: any\n}\n\nclass BodymovinPlayer extends WebComponent {\n  content = null\n  src = ''\n  json = ''\n  config: LottieConfig = {\n    renderer: 'svg',\n    loop: true,\n    autoplay: true,\n  }\n\n  static bodymovinAvailable?: Promise<any>\n\n  animation: any\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      width: 400,\n      height: 400,\n      display: 'inline-block',\n    },\n  })\n\n  private _loading = false\n\n  get loading(): boolean {\n    return this._loading\n  }\n\n  constructor() {\n    super()\n    this.initAttributes('src', 'json')\n    if (BodymovinPlayer.bodymovinAvailable === undefined) {\n      BodymovinPlayer.bodymovinAvailable = scriptTag(\n        'https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js',\n        'bodymovin'\n      )\n    }\n  }\n\n  private readonly doneLoading = (): void => {\n    this._loading = false\n  }\n\n  private readonly load = ({ bodymovin }: { bodymovin: any }): void => {\n    this._loading = true\n\n    this.config.container = this.shadowRoot\n    if (this.json !== '') {\n      this.config.animationData = this.json\n      delete this.config.path\n    } else if (this.src !== '') {\n      delete this.config.animationData\n      this.config.path = this.src\n    } else {\n      console.log(\n        '%c<bodymovin-player>%c expected either %cjson%c (animation data) or %csrc% c(url) but found neither.',\n        'color: #44f; background: #fff; padding: 0 5px',\n        'color: default',\n        'color: #44f; background: #fff; padding: 0 5px',\n        'color: default',\n        'color: #44f; background: #fff; padding: 0 5px',\n        'color: default'\n      )\n    }\n\n    if (this.animation) {\n      this.animation.destroy()\n      this.shadowRoot.querySelector('svg').remove()\n    }\n    this.animation = bodymovin.loadAnimation(this.config)\n    this.animation.addEventListener('DOMLoaded', this.doneLoading)\n  }\n\n  render(): void {\n    super.render()\n\n    BodymovinPlayer.bodymovinAvailable!.then(this.load).catch(\n      (e: string): void => {\n        console.error(e)\n      }\n    )\n  }\n}\n\nexport const bodymovinPlayer = BodymovinPlayer.elementCreator({\n  tag: 'bodymovin-player',\n})\n","import { elements } from 'xinjs'\n\ninterface PromiseMap {\n  [key: string]: Promise<any>\n}\n\nconst loadedScripts: PromiseMap = {}\nexport function scriptTag(\n  src: string,\n  existingSymbolName?: string\n): Promise<any> {\n  if (loadedScripts[src] === undefined) {\n    if (existingSymbolName !== undefined) {\n      // @ts-expect-error\n      const existing = globalThis[existingSymbolName]\n      loadedScripts[src] = Promise.resolve({ [existingSymbolName]: existing })\n    }\n\n    const scriptElt = elements.script({ src })\n\n    // @ts-expect-error\n    document.head.append(scriptElt)\n\n    loadedScripts[src] = new Promise((resolve) => {\n      scriptElt.onload = () => resolve(globalThis)\n    })\n  }\n\n  return loadedScripts[src]\n}\n\nconst loadedStyleSheets: PromiseMap = {}\nexport function styleSheet(href: string): Promise<void> {\n  if (loadedStyleSheets[href] === undefined) {\n    const linkElement = elements.link({\n      rel: 'stylesheet',\n      type: 'text/css',\n      href,\n    })\n\n    // @ts-expect-error\n    document.head.append(linkElement)\n\n    loadedStyleSheets[href] = new Promise((resolve) => {\n      linkElement.onload = resolve\n    })\n  }\n  return loadedStyleSheets[href]\n}\n","import { Component as WebComponent, elements, vars } from 'xinjs'\nimport { scriptTag } from './via-tag'\n\nconst ACE_BASE_URL = 'https://cdnjs.cloudflare.com/ajax/libs/ace/1.23.2/'\nconst DEFAULT_THEME = 'ace/theme/monokai'\n\nconst makeCodeEditor = async (\n  codeElement: any,\n  mode = 'html',\n  options = {},\n  theme = DEFAULT_THEME\n) => {\n  const { ace } = await scriptTag(`${ACE_BASE_URL}ace.min.js`)\n  ace.config.set('basePath', ACE_BASE_URL)\n  const editor = ace.edit(codeElement, {\n    mode: `ace/mode/${mode}`,\n    tabSize: 2,\n    useSoftTabs: true,\n    useWorker: false,\n    ...options,\n  })\n  editor.setTheme(theme)\n  return editor\n}\n\nclass CodeEditor extends WebComponent {\n  value = ''\n  mode = 'javascript'\n  disabled = false\n  role = 'code editor'\n\n  get editor(): any {\n    return this._editor\n  }\n  private _editor: any | undefined\n  private _editorPromise: Promise<any> | undefined\n  options: any = {}\n  theme = DEFAULT_THEME\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'block',\n      position: 'relative',\n    },\n  })\n\n  constructor() {\n    super()\n\n    this.initAttributes('mode', 'theme', 'disabled')\n  }\n\n  onResize() {\n    if (this.editor !== undefined) {\n      this.editor.resize(true)\n    }\n  }\n\n  updateValue = async (event: Event) => {\n    // changes to the element will be targted on the custom-element\n    // changes by the user will target the textarea created by ace editor\n    // @ts-expect-error\n    if (event.target !== this && this.editor) {\n      this.value = this.editor.getValue()\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback()\n\n    if (this.value === '') {\n      this.value = this.textContent.trim('\\n')\n    }\n\n    if (this._editorPromise === undefined) {\n      this._editorPromise = makeCodeEditor(\n        this,\n        this.mode,\n        this.options,\n        this.theme\n      )\n      this._editorPromise.then((editor) => {\n        this._editor = editor\n        editor.setValue(this.value, 1)\n      })\n    }\n\n    this.addEventListener('change', this.updateValue)\n  }\n\n  render(): void {\n    super.render()\n\n    if (this.editor !== undefined) {\n      if (this.editor.getValue() !== this.value) {\n        this.editor.setValue(this.value)\n      }\n    }\n    if (this._editorPromise !== undefined) {\n      this._editorPromise.then((editor) => editor.setReadOnly(this.disabled))\n    }\n  }\n}\n\nexport const codeEditor = CodeEditor.elementCreator({ tag: 'code-editor' })\n","import { Component as WebComponent, elements, xin, vars, xinValue } from 'xinjs'\nimport { trackDrag } from './track-drag'\n\nfunction defaultWidth(\n  array: any[],\n  prop: string,\n  charWidth: number\n): number | boolean {\n  const example = array.find(\n    (item) => item[prop] !== undefined && item[prop] !== null\n  )\n  if (example !== undefined) {\n    const value = example[prop]\n    switch (typeof value) {\n      case 'string':\n        if (value.match(/^\\d+(\\.\\d+)?$/)) {\n          return 6 * charWidth\n        } else if (value.includes(' ')) {\n          return 20 * charWidth\n        } else {\n          return 12 * charWidth\n        }\n      case 'number':\n        return 6 * charWidth\n      case 'boolean':\n        return 5 * charWidth\n      case 'object':\n        return false\n      default:\n        return 8 * charWidth\n    }\n  }\n  return false\n}\n\nconst { div, span, template } = elements\n\ninterface ColumnOptions {\n  name?: string\n  prop: string\n  width: number\n  visible?: boolean\n  align?: string\n  // @ts-expect-error\n  headerCell?: () => HTMLElement\n  // @ts-expect-error\n  dataCell?: () => HTMLElement\n}\n\ninterface TableData {\n  columns?: ColumnOptions[] | null\n  array: any[]\n  filter?: ArrayFilter | null\n}\n\ntype ArrayFilter = (array: any[]) => any[]\n\nconst passThru = (array: any[]) => array\n\nclass DataTable extends WebComponent {\n  get value(): TableData {\n    return {\n      array: this.array,\n      filter: this.filter,\n      columns: this.columns,\n    }\n  }\n\n  set value(data: TableData) {\n    const { array, columns, filter } = xinValue(data)\n    if (\n      this._array !== array ||\n      this._columns !== columns ||\n      this._filter !== filter\n    ) {\n      this.queueRender()\n    }\n    this._array = array || []\n    this._columns = columns || null\n    this._filter = filter || passThru\n  }\n\n  private _array: any[] = []\n  private _columns: ColumnOptions[] | null = null\n  private _filter: ArrayFilter = passThru\n  charWidth = 15\n  rowHeight = 30\n  minColumnWidth = 30\n\n  get virtual(): { height: number } | undefined {\n    return this.rowHeight > 0 ? { height: this.rowHeight } : undefined\n  }\n\n  constructor() {\n    super()\n\n    this.initAttributes('rowHeight', 'charWidth', 'minColumnWidth')\n  }\n\n  get array(): any[] {\n    return this._array\n  }\n\n  set array(newArray: any[]) {\n    this._array = xinValue(newArray)\n    this.queueRender()\n  }\n\n  get filter(): ArrayFilter {\n    return this._filter\n  }\n\n  set filter(filterFunc: ArrayFilter) {\n    if (this._filter !== filterFunc) {\n      this._filter = filterFunc\n      this.queueRender()\n    }\n  }\n\n  get columns(): ColumnOptions[] {\n    if (!Array.isArray(this._columns)) {\n      const { _array } = this\n      this._columns = Object.keys(_array[0] || {}).map((prop: string) => {\n        const width = defaultWidth(_array, prop, this.charWidth)\n        return {\n          name: prop.replace(/([a-z])([A-Z])/g, '$1 $2').toLocaleLowerCase(),\n          prop,\n          align:\n            typeof _array[0][prop] === 'number' ||\n            (_array[0][prop] !== '' && !isNaN(_array[0][prop]))\n              ? 'right'\n              : 'left',\n          visible: width !== false,\n          width: width ? width : 0,\n        } as ColumnOptions\n      })\n    }\n    return this._columns\n  }\n\n  set columns(newColumns: ColumnOptions[]) {\n    this._columns = newColumns\n    this.queueRender()\n  }\n\n  get visibleColumns(): ColumnOptions[] {\n    return this.columns.filter((c) => c.visible !== false)\n  }\n\n  get visibleRecords(): any[] {\n    return xin[this.instanceId] as any[]\n  }\n\n  content = null\n\n  getColumn(event: any): ColumnOptions | undefined {\n    const x =\n      (event.touches !== undefined ? event.touches[0].clientX : event.clientX) -\n      this.getBoundingClientRect().x\n    const epsilon = event.touches !== undefined ? 20 : 5\n    let boundaryX = 0\n    const log: any[] = []\n    const column = this.visibleColumns.find((options: ColumnOptions) => {\n      if (options.visible !== false) {\n        boundaryX += options.width\n        log.push(boundaryX)\n        return Math.abs(x - boundaryX) < epsilon\n      }\n    })\n    return column\n  }\n\n  setCursor = (event: Event) => {\n    const column = this.getColumn(event)\n    if (column !== undefined) {\n      this.style.cursor = 'col-resize'\n    } else {\n      this.style.cursor = ''\n    }\n  }\n\n  resizeColumn = (event: any) => {\n    const column = this.getColumn(event)\n    if (column !== undefined) {\n      const origWidth = column.width\n      const isTouchEvent = event.touches !== undefined\n      const touchIdentifier = isTouchEvent\n        ? event.touches[0].identifier\n        : undefined\n      trackDrag(\n        event,\n        (dx, dy, event: any) => {\n          const touch = isTouchEvent\n            ? [...event.touches].find(\n                (touch: any) => touch.identifier === touchIdentifier\n              )\n            : true\n          if (touch === undefined) {\n            return true\n          }\n          const width = origWidth + dx\n          column.width =\n            width > this.minColumnWidth ? width : this.minColumnWidth\n          this.setColumnWidths()\n          if (event.type === 'mouseup') {\n            return true\n          }\n        },\n        'col-resize'\n      )\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n\n    this.addEventListener('mousemove', this.setCursor)\n    this.addEventListener('mousedown', this.resizeColumn)\n    this.addEventListener('touchstart', this.resizeColumn, { passive: true })\n  }\n\n  setColumnWidths() {\n    this.style.setProperty(\n      '--grid-columns',\n      this.visibleColumns.map((c) => c.width + 'px').join(' ')\n    )\n  }\n\n  get rowStyle() {\n    return {\n      display: 'grid',\n      gridTemplateColumns: vars.gridColumns,\n      height: this.rowHeight + 'px',\n      lineHeight: this.rowHeight + 'px',\n    }\n  }\n\n  get cellStyle() {\n    return {\n      overflow: 'hidden',\n      whiteSpace: 'nowrap',\n      textOverflow: 'ellipsis',\n    }\n  }\n\n  headerCell = (options: ColumnOptions) =>\n    options.headerCell !== undefined\n      ? options.headerCell()\n      : span(\n          {\n            class: 'th',\n            role: 'columnheader',\n            ariaSort: 'none',\n            style: {\n              ...this.cellStyle,\n              textAlign: options.align || 'left',\n            },\n          },\n          typeof options.name === 'string' ? options.name : options.prop\n        )\n\n  dataCell = (options: ColumnOptions) => {\n    if (options.dataCell !== undefined) {\n      return options.dataCell()\n    }\n    return span({\n      class: 'td',\n      role: 'cell',\n      style: {\n        ...this.cellStyle,\n        textAlign: options.align || 'left',\n      },\n      bindText: `^.${options.prop}`,\n    })\n  }\n\n  get visibleRows(): any[] {\n    return xinValue(xin[this.instanceId]) as any[]\n  }\n\n  render() {\n    super.render()\n\n    xin[this.instanceId] = this.filter(this._array)\n\n    this.textContent = ''\n\n    this.style.display = 'flex'\n    this.style.flexDirection = 'column'\n    const { visibleColumns } = this\n    this.setColumnWidths()\n    this.append(\n      div(\n        { class: 'thead', role: 'rowgroup' },\n        div(\n          {\n            class: 'tr',\n            role: 'row',\n            style: this.rowStyle,\n          },\n          ...visibleColumns.map(this.headerCell)\n        )\n      ),\n      div(\n        {\n          class: 'tbody',\n          role: 'rowgroup',\n          style: {\n            content: ' ',\n            minHeight: '200px',\n            flex: '1 1 100px',\n            overflow: 'hidden',\n            overflowY: 'scroll',\n          },\n          bindList: {\n            value: this.instanceId,\n            virtual: this.virtual,\n          },\n        },\n        template(\n          div(\n            {\n              class: 'tr',\n              role: 'row',\n              style: this.rowStyle,\n            },\n            ...visibleColumns.map(this.dataCell)\n          )\n        )\n      )\n    )\n  }\n}\n\nexport const dataTable = DataTable.elementCreator({ tag: 'data-table' })\n","import { elements } from 'xinjs'\n\ntype TrackerCallback = (dx: number, dy: number, event: any) => true | undefined\n\nexport const trackDrag = (\n  event: any,\n  callback: TrackerCallback,\n  cursor = 'default'\n): void => {\n  const isTouchEvent = event.type.startsWith('touch')\n\n  if (!isTouchEvent) {\n    const origX = event.clientX\n    const origY = event.clientY\n\n    const tracker = elements.div({\n      style: {\n        content: ' ',\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        cursor,\n      },\n    })\n\n    // @ts-expect-error\n    document.body.append(tracker)\n\n    const wrappedCallback = (event: any) => {\n      const dx = event.clientX - origX\n      const dy = event.clientY - origY\n      if (callback(dx, dy, event) === true) {\n        tracker.remove()\n      }\n    }\n\n    tracker.addEventListener('mousemove', wrappedCallback, { passive: true })\n    tracker.addEventListener('mouseup', wrappedCallback, { passive: true })\n  } else if (event.type.startsWith('touch')) {\n    const origX = event.touches[0].clientX\n    const origY = event.touches[0].clientY\n    const target: any = event.target\n\n    let dx = 0\n    let dy = 0\n    const wrappedCallback = (event: any) => {\n      if (event.touches.length > 0) {\n        dx = event.touches[0].clientX - origX\n        dy = event.touches[0].clientY - origY\n      }\n      if (callback(dx, dy, event) === true || event.touches.length === 0) {\n        target.removeEventListener('touchmove', wrappedCallback)\n        target.removeEventListener('touchend', wrappedCallback)\n        target.removeEventListener('touchcancel', wrappedCallback)\n      }\n    }\n\n    target.addEventListener('touchmove', wrappedCallback, { passive: true })\n    target.addEventListener('touchend', wrappedCallback, { passive: true })\n    target.addEventListener('touchcancel', wrappedCallback, { passive: true })\n  }\n}\n","import { Component as WebComponent, elements, debounce } from 'xinjs'\n\nconst { input } = elements\n\ntype ArrayFilter = (array: any[]) => any[]\n\nconst passThru = (array: any[]) => array\nconst NULL_FILTER_DESCRIPTION = 'null filter, everything matches'\n\ntype ObjectTest = (obj: any) => boolean\n\ninterface FilterMaker {\n  hint: string\n  explanation?: string\n  description: (...matches: string[]) => string\n  token: RegExp\n  makeFilter: (...matches: string[]) => ObjectTest\n}\n\nexport const availableFilters: FilterMaker[] = [\n  {\n    hint: 'field=value',\n    explanation: 'field is value, ignoring case',\n    description: (field: string, value: string) =>\n      isNaN(Number(value))\n        ? field !== ''\n          ? `${field} is \"${value}\"`\n          : `any field is \"${value}\"`\n        : field !== ''\n        ? `${field} == ${value}`\n        : `any field == ${value}`,\n    token: /^([\\w-_]*)=(.+)$/,\n    makeFilter: (field: string, value: string) => {\n      if (isNaN(Number(value))) {\n        value = String(value).toLocaleLowerCase()\n        if (field !== '') {\n          return (obj: any) => String(obj[field]).toLocaleLowerCase() == value\n        }\n        return (obj: any) =>\n          Object.values(obj).find(\n            (val) => String(val).toLocaleLowerCase() == value\n          ) !== undefined\n      }\n      const num = Number(value)\n      if (field !== '') {\n        return (obj: any) => Number(obj[field]) == num\n      }\n      return (obj: any) =>\n        Object.values(obj).find((val) => Number(val) == num) !== undefined\n    },\n  },\n  {\n    hint: 'field!=value',\n    explanation: 'field is not value, ignoring case',\n    description: (field: string, value: string) => `${field} â‰  ${value}`,\n    token: /^([\\w-_]+)!=(.+)$/,\n    makeFilter: (field: string, value: string) => {\n      value = value.toLocaleLowerCase()\n      return (obj: any) => String(obj[field]).toLocaleLowerCase() != value\n    },\n  },\n  {\n    hint: 'field>value',\n    explanation: 'field > value (numeric / A-Z)',\n    description: (field: string, value: string) =>\n      isNaN(Number(value))\n        ? `${field} > ${value} (A-Z)`\n        : `${field} > ${value}`,\n    token: /^([\\w-_]+)>(.+)$/,\n    makeFilter: (field: string, value: string) => {\n      if (!isNaN(Number(value))) {\n        const num = Number(value)\n        return (obj: any) => Number(obj[field]) > num\n      }\n      value = value.toLocaleLowerCase()\n      return (obj: any) => String(obj[field]).toLocaleLowerCase() > value\n    },\n  },\n  {\n    hint: 'field<value',\n    explanation: 'field < value (numeric / A-Z)',\n    description: (field: string, value: string) =>\n      isNaN(Number(value))\n        ? `${field} < ${value} (A-Z)`\n        : `${field} < ${value}`,\n    token: /^([\\w-_]+)<(.+)$/,\n    makeFilter: (field: string, value: string) => {\n      if (!isNaN(Number(value))) {\n        const num = Number(value)\n        return (obj: any) => Number(obj[field]) < num\n      }\n      value = value.toLocaleLowerCase()\n      return (obj: any) => String(obj[field]).toLocaleLowerCase() < value\n    },\n  },\n  {\n    hint: 'field:value',\n    explanation: 'field contains value, ignoring case',\n    description: (field: string, value: string) =>\n      `${field} contains \"${value}\"`,\n    token: /^([\\w-_]+):(.+)$/,\n    makeFilter: (field: string, value: string) => {\n      value = value.toLocaleLowerCase()\n      return (obj: any) =>\n        String(obj[field]).toLocaleLowerCase().includes(value)\n    },\n  },\n  {\n    hint: '!!field',\n    explanation: 'field is true, non-empty, non-zero',\n    description: (match: string) => `${match} is truthy`,\n    token: /^!!([\\w-_]+)$/,\n    makeFilter: (match: string) => (obj: any) => !!obj[match],\n  },\n  {\n    hint: '!field',\n    explanation: 'field is false, empty, zero',\n    description: (match: string) => `${match} is falsy`,\n    token: /^!([\\w-_]+)$/,\n    makeFilter: (match: string) => (obj: any) => !obj[match],\n  },\n  {\n    hint: 'value',\n    explanation: 'any field contains value',\n    description: (match: string) => `\"${match}\" in any property`,\n    token: /^(.+)$/,\n    makeFilter: (match: string) => {\n      match = match.toLocaleLowerCase()\n      return (obj: any) =>\n        Object.values(obj).find((value) =>\n          String(value).toLocaleLowerCase().includes(match)\n        ) !== undefined\n    },\n  },\n]\n\ninterface Filter {\n  description: string\n  test: ObjectTest\n}\n\nexport function getFilter(\n  term: string,\n  filters = availableFilters\n): Filter | undefined {\n  const maker = filters.find((filter: FilterMaker) => filter.token.test(term))\n  if (maker !== undefined) {\n    // we know it will match\n    const [, ...terms] = term.match(maker.token)!\n    return {\n      description: maker.description(...terms),\n      test: maker.makeFilter(...terms),\n    }\n  }\n}\n\nclass FilterBuilder extends WebComponent {\n  value = ''\n  filter: ArrayFilter = passThru\n  title = NULL_FILTER_DESCRIPTION\n  content = input({\n    type: 'search',\n    part: 'input',\n    style: {\n      width: '100%',\n      height: 'auto',\n    },\n  })\n  placeholder = ''\n  help = ''\n\n  filters = availableFilters\n\n  constructor() {\n    super()\n    this.initAttributes('title', 'placeholder', 'help')\n  }\n\n  buildFilter = debounce((query: string): void => {\n    // @ts-expect-error\n    const filters: Filter[] = query\n      .split(/\\s+/)\n      .filter((part) => part !== '')\n      .map((part) => getFilter(part, this.filters))\n      .filter((part) => part !== undefined) // because we remove undefined\n\n    if (filters.length === 0) {\n      this.title = NULL_FILTER_DESCRIPTION\n      if (this.filter !== passThru) {\n        this.filter = passThru\n        this.dispatchEvent(new Event('change'))\n      }\n    } else {\n      this.filter = filters.reduce(\n        (f: false | ArrayFilter, filter: Filter): ArrayFilter => {\n          let g: ArrayFilter\n          if (f === false) {\n            g = (array: any[]) => array.filter(filter.test)\n          } else {\n            g = (array: any[]) => f(array.filter(filter.test))\n          }\n          return g\n        },\n        false\n      ) as ArrayFilter // because this array is not empty\n\n      this.title = filters.map((f) => f.description).join(', and ')\n      this.dispatchEvent(new Event('change'))\n    }\n  }, 500)\n\n  reset() {\n    if (this.filter !== passThru) {\n      this.title = NULL_FILTER_DESCRIPTION\n      this.filter = passThru\n      this.dispatchEvent(new Event('change'))\n    }\n  }\n\n  handleInput = (event: Event) => {\n    const { input } = this.parts\n    this.buildFilter(input.value)\n    this.value = input.value\n    event.stopPropagation()\n    event.preventDefault()\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    this.setAttribute('title', this.title)\n\n    this.help = this.filters\n      .map((f) =>\n        f.explanation !== undefined ? `${f.hint}: ${f.explanation}` : f.hint\n      )\n      .join('\\n')\n\n    const { input } = this.parts\n    input.value = this.value\n    input.addEventListener('input', this.handleInput)\n    input.addEventListener('change', this.handleInput)\n    this.style.position = 'relative'\n  }\n\n  render() {\n    super.render()\n    const { input } = this.parts\n    input.placeholder =\n      this.placeholder !== ''\n        ? this.placeholder\n        : this.filters.map((filter) => filter.hint).join(' ')\n    input.value = this.value\n  }\n}\n\nexport const filterBuilder = FilterBuilder.elementCreator({\n  tag: 'filter-builder',\n})\n","import { Component as WebComponent, elements } from 'xinjs'\nimport { styleSheet, scriptTag } from './via-tag'\n\nexport const MAPSTYLES = [\n  {\n    name: 'streets',\n    url: 'mapbox://styles/mapbox/streets-v10',\n  },\n  {\n    name: 'outdoors',\n    url: 'mapbox://styles/mapbox/outdoors-v10',\n  },\n  {\n    name: 'light',\n    url: 'mapbox://styles/mapbox/light-v9',\n  },\n  {\n    name: 'dark',\n    url: 'mapbox://styles/mapbox/dark-v9',\n  },\n  {\n    name: 'satellite',\n    url: 'mapbox://styles/mapbox/satellite-v9',\n  },\n  {\n    name: 'sateliite + streets',\n    url: 'mapbox://styles/mapbox/satellite-streets-v10',\n  },\n  {\n    name: 'preview day',\n    url: 'mapbox://styles/mapbox/navigation-preview-day-v2',\n  },\n  {\n    name: 'preview night',\n    url: 'mapbox://styles/mapbox/navigation-preview-night-v2',\n  },\n  {\n    name: 'guidance day',\n    url: 'mapbox://styles/mapbox/navigation-guidance-day-v2',\n  },\n  {\n    name: 'guidance night',\n    url: 'mapbox://styles/mapbox/navigation-guidance-night-v2',\n  },\n]\n\nconst { div } = elements\n\nclass MapBox extends WebComponent {\n  coords = '65.01715565258993,25.48081004203459,12'\n  content = div({ style: { width: '100%', height: '100%' } })\n  get map(): any {\n    return this._map\n  }\n  mapStyle = MAPSTYLES[0]\n  token = ''\n\n  static mapboxCSSAvailable: Promise<void>\n  static mapboxAvailable?: Promise<any>\n\n  private _map: any\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'inline-block',\n      position: 'relative',\n      width: '400px',\n      height: '400px',\n      textAlign: 'left',\n    },\n  })\n\n  constructor() {\n    super()\n    this.initAttributes('coords', 'token', 'mapStyle')\n\n    if (MapBox.mapboxCSSAvailable === undefined) {\n      MapBox.mapboxCSSAvailable = styleSheet(\n        'https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css'\n      ).catch((e) => {\n        console.error('failed to load mapbox-gl.css', e)\n      })\n      MapBox.mapboxAvailable = scriptTag(\n        'https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js'\n      ).catch((e) => {\n        console.error('failed to load mapbox-gl.js', e)\n      })\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    if (!this.token) {\n      console.error(\n        'mapbox requires an access token which you can provide via the token attribute'\n      )\n    }\n  }\n\n  render(): void {\n    super.render()\n\n    if (!this.token) {\n      return\n    }\n\n    const { div } = this.parts\n\n    const [long, lat, zoom] = this.coords.split(',').map((x) => Number(x))\n\n    if (this.map) {\n      this.map.remove()\n    }\n\n    MapBox.mapboxAvailable!.then(({ mapboxgl }: { mapboxgl: any }) => {\n      console.log(\n        '%cmapbox may complain about missing css because it is loaded async on demand',\n        'background: orange; color: black; padding: 0 5px;'\n      )\n      mapboxgl.accessToken = this.token\n      this._map = new mapboxgl.Map({\n        container: div,\n        style: this.mapStyle.url,\n        zoom,\n        center: [lat, long],\n      })\n\n      this._map.on('render', () => this._map.resize())\n    })\n  }\n}\n\nexport const mapBox = MapBox.elementCreator({ tag: 'map-box' })\n","import { Component } from 'xinjs'\nimport { marked } from 'marked'\nclass MarkdownViewer extends Component {\n  src = ''\n  value = ''\n  content = null\n  constructor() {\n    super()\n    this.initAttributes('src')\n  }\n  connectedCallback(): void {\n    super.connectedCallback()\n    if (this.src !== '') {\n      ;(async () => {\n        const request = await fetch(this.src)\n        this.value = await request.text()\n      })()\n    } else if (this.value === '') {\n      this.value = this.textContent != null ? this.textContent : ''\n    }\n  }\n  render() {\n    super.render()\n    this.innerHTML = marked(this.value, { mangle: false, headerIds: false })\n  }\n}\n\nexport const markdownViewer = MarkdownViewer.elementCreator({\n  tag: 'markdown-viewer',\n})\n","import { Component as WebComponent, elements, vars, varDefault } from 'xinjs'\n\nconst { slot } = elements\n\nconst flexDirections = {\n  left: 'row',\n  right: 'row-reverse',\n  top: 'column',\n  bottom: 'column-reverse',\n}\n\nconst outsetMargins = {\n  left: ['marginLeft', 'marginRight'],\n  right: ['marginRight', 'marginLeft'],\n  top: ['marginTop', 'marginBottom'],\n  bottom: ['marginBottom', 'marginTop'],\n}\n\nclass SideNav extends WebComponent {\n  panelPosition: 'left' | 'right' | 'top' | 'bottom' = 'left'\n  minSize = 600\n  navSize = 200\n  compact = false\n\n  content = [slot({ name: 'nav' }), slot({ part: 'content' })]\n\n  private _contentVisible = false\n  get contentVisible(): boolean {\n    return this._contentVisible\n  }\n\n  set contentVisible(visible: boolean) {\n    this._contentVisible = visible\n    this.queueRender()\n  }\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'flex',\n      flexDirection: vars.flexDirection,\n      transition: varDefault.sideNavTransition('0.25s ease-out'),\n    },\n    ':host slot': {\n      position: 'relative',\n    },\n    ':host slot:not([name])': {\n      display: 'block',\n      flex: `0 0 ${vars.contentWidth}`,\n      width: vars.contentWidth,\n    },\n    ':host slot[name=\"nav\"]': {\n      display: 'block',\n      flex: `0 0 ${vars.navWidth}`,\n      width: vars.navWidth,\n    },\n  })\n\n  onResize = () => {\n    const { content } = this.parts\n    if (this.offsetParent === null) {\n      return\n    }\n\n    this.style.marginLeft = 0\n    this.style.marginRight = 0\n    this.style.marginTop = 0\n    this.style.marginBottom = 0\n\n    const empty =\n      [...this.childNodes].find((node) =>\n        // @ts-expect-error\n        node instanceof Element ? node.getAttribute('slot') !== 'nav' : true\n      ) === undefined\n    if (empty) {\n      this.style.setProperty('--nav-width', '100%')\n      this.style.setProperty('--content-width', '0%')\n      return\n    }\n\n    const parent = this.offsetParent\n    const size = this.panelPosition.match(/left|right/)\n      ? parent.offsetWidth\n      : parent.offsetWidth\n\n    this.compact = size < this.minSize\n    if (!this.compact) {\n      content.classList.add('-side-nav-visible')\n      this.style.setProperty('--nav-width', `${this.navSize}px`)\n      this.style.setProperty(\n        '--content-width',\n        `calc(100% - ${this.navSize}px)`\n      )\n    } else {\n      content.classList.remove('-side-nav-visible')\n      this.style.setProperty('--nav-width', '50%')\n      this.style.setProperty('--content-width', '50%')\n\n      const margins = outsetMargins[this.panelPosition]\n      if (this.contentVisible) {\n        this.style[margins[0]] = '-100%'\n      } else {\n        this.style[margins[1]] = '-100%'\n      }\n    }\n  }\n\n  private observer: any\n  connectedCallback(): void {\n    super.connectedCallback()\n    this.contentVisible = this.parts.content.childNodes.length === 0\n    globalThis.addEventListener('resize', this.onResize)\n\n    // @ts-expect-error\n    this.observer = new MutationObserver(this.onResize)\n    this.observer.observe(this, { childList: true })\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback()\n    this.observer.disconnect()\n  }\n\n  constructor() {\n    super()\n    this.initAttributes('panelPosition', 'minSize', 'navSize', 'compact')\n  }\n\n  render(): void {\n    super.render()\n    this.style.setProperty(\n      '--flex-direction',\n      flexDirections[this.panelPosition]\n    )\n    this.onResize()\n  }\n}\n\nexport const sideNav = SideNav.elementCreator({ tag: 'side-nav' })\n","import { Component as WebComponent, elements, vars } from 'xinjs'\n\nconst { slot } = elements\n\nclass SizeBreak extends WebComponent {\n  minWidth = 0\n  minHeight = 0\n  value: 'normal' | 'small' = 'normal'\n\n  content = [slot({ part: 'normal' }), slot({ part: 'small', name: 'small' })]\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      position: 'relative',\n    },\n  })\n\n  constructor() {\n    super()\n    this.initAttributes('minWidth', 'minHeight')\n  }\n\n  onResize = () => {\n    const { normal, small } = this.parts\n    if (this.offsetParent === null) {\n      return\n    } else if (\n      this.offsetParent.offsetWidth < this.minWidth ||\n      this.offsetParent.offsetHeight < this.minHeight\n    ) {\n      normal.hidden = true\n      small.hidden = false\n      this.value = 'small'\n    } else {\n      normal.hidden = false\n      small.hidden = true\n      this.value = 'normal'\n    }\n  }\n\n  // TODO trigger a resize event when an ancestor element\n  // is inerted or moved into the DOM.\n  connectedCallback(): void {\n    super.connectedCallback()\n    globalThis.addEventListener('resize', this.onResize)\n  }\n\n  disconnectedCallback(): void {\n    super.disconnectedCallback()\n    globalThis.removeEventListener('resize', this.onResize)\n  }\n}\n\nexport const sizeBreak = SizeBreak.elementCreator({ tag: 'size-break' })\n","import { Component as WebComponent, elements, vars } from 'xinjs'\n\nconst { div, slot } = elements\n\nclass TabSelector extends WebComponent {\n  value = 0\n\n  role = 'tabpanel'\n\n  styleNode = WebComponent.StyleNode({\n    ':host': {\n      display: 'flex',\n      flexDirection: 'column',\n      position: 'relative',\n      overflow: 'hidden',\n    },\n    slot: {\n      position: 'relative',\n      display: 'block',\n      flex: '1 1 auto',\n      overflow: 'hidden',\n      overflowY: 'auto',\n    },\n    '::slotted([hidden])': {\n      display: 'none !important',\n    },\n    ':host .tab-holder': {\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    ':host .tabs': {\n      display: 'flex',\n      userSelect: 'none',\n      whiteSpace: 'nowrap',\n    },\n    ':host .tabs > div': {\n      padding: `${vars.spacing50} ${vars.spacing}`,\n      cursor: 'default',\n    },\n    ':host .tabs > [aria-selected=\"true\"]': {\n      color: vars.tabSelectorSelectedColor,\n    },\n    ':host .border': {\n      background: 'var(--tab-selector-bar-color, #ccc)',\n    },\n    ':host .border > .selected': {\n      content: ' ',\n      width: 0,\n      height: 'var(--tab-selector-bar-height, 2px)',\n      background: vars.tabSelectorSelectedColor,\n      transition: 'ease-out 0.2s',\n    },\n  })\n\n  content = [\n    div(\n      { class: 'tab-holder' },\n      div({ class: 'tabs', part: 'tabs' }),\n      div({ class: 'border' }, div({ class: 'selected', part: 'selected' }))\n    ),\n    slot(),\n  ]\n\n  constructor() {\n    super()\n    this.initAttributes('anne', 'example')\n  }\n\n  // @ts-expect-error\n  addTabBody(body: HTMLElement, selectTab = false): void {\n    if (!body.hasAttribute('name')) {\n      throw new Error('element has no name attribute', body)\n    }\n    this.shadowRoot.append(body)\n    this.setupTabs()\n    if (selectTab) {\n      this.value = this.bodies.length - 1\n    }\n    this.queueRender()\n  }\n\n  // @ts-expect-error\n  keyTab = (event: KeyboardEvent): void => {\n    const { tabs } = this.parts\n    // @ts-expect-error\n    const tabIndex = [...tabs.children].indexOf(event.target as HTMLElement)\n    switch (event.key) {\n      case 'ArrowLeft':\n        this.value =\n          (tabIndex + Number(tabs.children.length) - 1) % tabs.children.length\n        // @ts-expect-error\n        ;(tabs.children[this.value] as HTMLElement).focus()\n        event.preventDefault()\n        break\n      case 'ArrowRight':\n        this.value = (tabIndex + 1) % tabs.children.length\n        // @ts-expect-error\n        ;(tabs.children[this.value] as HTMLElement).focus()\n        event.preventDefault()\n        break\n      case ' ':\n        this.pickTab(event)\n        event.preventDefault()\n        break\n      default:\n      // console.log(event.key)\n    }\n  }\n\n  // @ts-expect-error\n  get bodies(): HTMLElement[] {\n    return [...this.children].filter((elt) => elt.hasAttribute('name'))\n  }\n\n  pickTab = (event: Event): void => {\n    const { tabs } = this.parts\n    // @ts-expect-error\n    const target = event.target as HTMLElement\n    const tabIndex = [...tabs.children].indexOf(target)\n    if (tabIndex > -1) {\n      this.value = tabIndex\n    }\n  }\n\n  setupTabs = (): void => {\n    const { tabs } = this.parts\n    const tabBodies = [...this.childNodes].filter((child) =>\n      child.hasAttribute('name')\n    )\n    tabs.textContent = ''\n    for (const index in tabBodies) {\n      const tabBody = tabBodies[index]\n      const name = tabBody.getAttribute('name') as string\n      const bodyId = `${this.instanceId}-${index}`\n      tabBody.id = bodyId\n      tabs.append(div(name, { tabindex: 0, role: 'tab', ariaControls: bodyId }))\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    const { tabs } = this.parts\n    tabs.addEventListener('click', this.pickTab)\n    tabs.addEventListener('keydown', this.keyTab)\n    this.setupTabs()\n  }\n\n  render(): void {\n    const { tabs, selected } = this.parts\n    const tabBodies = this.bodies\n    for (let i = 0; i < tabBodies.length; i++) {\n      const tabBody = tabBodies[i]\n      // @ts-expect-error\n      const tab = tabs.children[i] as HTMLElement\n      if (this.value === Number(i)) {\n        tab.setAttribute('aria-selected', true)\n        selected.style.marginLeft = `${tab.offsetLeft - tabs.offsetLeft}px`\n        selected.style.width = `${tab.offsetWidth}px`\n        tabBody.removeAttribute('hidden')\n      } else {\n        tab.removeAttribute('aria-selected')\n        tabBody.setAttribute('hidden', '')\n      }\n    }\n  }\n}\n\nexport const tabSelector = TabSelector.elementCreator({ tag: 'tab-selector' })\n"],"names":[],"version":3,"file":"index.js.map"}